package com.opencn.mesh;import com.opencn.mesh.exception.PipelineException;import org.springframework.context.ApplicationContext;import org.springframework.util.ObjectUtils;import org.springframework.util.ReflectionUtils;import java.lang.reflect.Method;import java.util.concurrent.ConcurrentHashMap;import java.util.concurrent.ConcurrentMap;public class BizMappingRegister {    private final static ConcurrentMap<String, Method> MM = new ConcurrentHashMap<>();    private final static ConcurrentMap<String, String> CM = new ConcurrentHashMap<>();    public static ApplicationContext applicationContext;    public static void registry(String bizKey, String targetName, Method method) {        CM.putIfAbsent(bizKey, targetName);        MM.putIfAbsent(bizKey, method);    }    public static Object execute(String bizKey, Object... args) {        Method method = MM.get(bizKey);        String targetName = CM.get(bizKey);        if (ObjectUtils.isEmpty(method) || ObjectUtils.isEmpty(targetName)) {            throw new PipelineException("can not find biz method or biz service with biz key, check service is added annotation named BizService or BizMapping");        }        Object bean = applicationContext.getBean(targetName);        return ReflectionUtils.invokeMethod(method, bean, args);    }}